<!DOCTYPE html>
<html>
<head>
    <script src="//code.jquery.com/jquery-3.5.1.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.6/socket.io.min.js"></script>
    <script type="text/javascript" src="https://d3js.org/d3.v5.min.js"></script>
    <!-- <script type="text/javascript" src="http://x3dom.org/x3dom/dist/x3dom-full.js"></script> -->
    <script src="static/js/scatter_plot_3d_demo.js"></script>
    <script src="static/js/application.js"></script>
   <link rel="stylesheet" type="text/css" href="http://www.x3dom.org/download/dev/x3dom.css"/>
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
</head>
<body>
<div class="container">
  <div class="jumbotron">
    <h1>Evolutionary algorithm dashboard</h1>
    <p></p>
    
  </div>
</div>
    
</div>

<div class="container" id="content">
    <div class="row">
        <div id="log">
        </div> <!-- /#log -->
    </div>
</div>
    <div id="divPlot">
      <!-- <script>


        var zoom = d3.zoom()
  .translateExtent([[ 0, 0 ],[ 800, 500 ]])
  .scaleExtent([ 1, 20 ])
  .on('zoom', (d,i) => {

    d3.select( "svg" )
      .select('.container')
      .attr('transform', d3.event.transform)

  
  })
        async function demo() {
        

        var svg = d3.select('#divPlot')
        .append("svg")
        .attr('width', 800)
        .attr('height', 500);


        var myArray = [10,30,50];
        var g = svg.append("g").attr('class', 'container')
        
        // g.append("g").selectAll("g")
        //               .data(myArray)
        //               .join("circle")
        //               // .enter()
        //               // .append("circle")
        //               .style('fill', 'orange')
        //               .attr("cx",(d,i) => (i+1)*100)
        //               .attr("cy",100)
        //               .attr('r', d => d);



        
        var t = d3.transition().duration(3000).ease(d3.easeLinear);

        

        var mm = [10,20,30,40,50]


        
        for (index of [30,20,10,5]) {
        
                  var circles = g.selectAll("circle").data(myArray)
                  var texts = g.selectAll("text").data(mm)
                  
                  circles
                        .join(
                            enter => enter.append("circle")
                              .style('fill', 'red')
                              .attr("cx",(d,i) => (i+1)*100)
                              .attr("cy",100)
                              .attr('r', d => d)
                              ,

                            update => update.style("fill","green"),

                            exit => exit.transition(t).style("fill","black").remove()
                        )

                texts
                        .join(
                            enter => enter.append("text")
                            .attr('x', (d,i) => (i+1)*100)
                            .attr('y', 50)
                            .style('font-size', 14)
                            .style('font-family', 'sans-serif')
                            .style('fill', 'blue')
                            .text(d => d)
                              ,

                            update => update,

                            exit => exit.transition(t)
                            .style("fill","black")
                            .style('font-size', "34px")
                            .remove()
                        )


        var myArray = myArray.concat(index)

        mm.pop()
        
        await new Promise(r => setTimeout(r, 3000));

        }



       }

      demo();

      d3.select( "svg" )
    .select('g.container')
    .call( zoom )
  // var data = [ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 ].map(() => [ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 ])
  
  // svg2.selectAll('g')
  //   .data(data)
  //   .join('g')
  //     .attr('transform', (d,i) => `translate(10,${30 * i})`)
  //   .selectAll('rect')
  //   .data(d => d)
  //   .join('rect')
  //     .attr('x', (d,i) => 30 * i)
  //     .attr('height', 30)
  //     .attr('width', 30)
  //     .style('fill', '#4dbeff')
  //     // When the mouse moves over a rect, quickly fade its color to blue
  //     .on('mouseover', (d, i, arr) => {
    
  //       d3.select(arr[i])
  //         .transition()
  //         .duration(100)
  //           .style('fill', 'white')
    
  //     })
  //     // When the mouse leaves a rect, slowly fade its color back to orange
  //     .on('mouseout', (d, i, arr) => {
    
  //       d3.select(arr[i])
  //         .transition()
  //         .duration(2000)
  //           .style('fill', '#4dbeff')
    
  //     })

      </script> -->

    </div>

</body>
</html>
